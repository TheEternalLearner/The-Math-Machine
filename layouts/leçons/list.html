{{ define "main" }}

<h1 class="title is-1" id="lesson-title">{{ .Content }}</h1>
<div class="tabs is-centered is-boxed">
  <input type="radio" name="lesson-tab" id="all" checked="checked">
  <label for="all">
    <a>
      <span class="icon is-small"><i class="fas fa-universal-access"></i></span>
      <span>Tous</span>
    </a>
  </label>
  <div class="tab">
    <h3>Toutes les leçons</h3>
    {{ range .Pages }}

    <div style="border: 1px solid black; margin:10px; padding:10px; ">
      <div class="lesson">
        <a href="{{.URL}}">{{.Title}}</a>
      </div>
    </div>
    {{ end }}
  </div>

  <input type="radio" name="lesson-tab" id="algebra">
  <label for="algebra">
    <a>
      <span class="icon is-small"><i class="fas fa-shapes"></i></span>
      <span>Algèbre</span>
    </a>
  </label>

  <div class="tab">
    <h3>Leçons d'algèbre</h3>
    <p>
      {{.Params.tags}}
    </p>
    {{ range .Pages }}
    {{ if in .Params.tags "algèbre"}}
    <div style="border: 1px solid black; margin:10px; padding:10px; ">
      <div class="lesson">
        <a href="{{.URL}}">{{.Title}}</a>
      </div>
    </div>
    {{ end }}
    {{ end }}
  </div>

  <input type="radio" name="lesson-tab" id="calculus">
  <label for="calculus">
    <a>
      <span class="icon is-small"><i class="fas fa-square-root-alt"></i></span>
      <span>Analyse</span>
    </a>
  </label>

  <div class="tab">
    {{ range .Pages }}
    {{ if in .Params.tags "analyse"}}
    <div style="border: 1px solid black; margin:10px; padding:10px; ">
      <div class="lesson">
        <a href="{{.URL}}">{{.Title}}</a>
      </div>
    </div>
    {{ end }}
    {{ end }}
  </div>
</div>

<!-- TODO : find a way to refactor this mess -->

{{ end }}
